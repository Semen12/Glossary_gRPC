# gRPC Словарь: Клиент-серверное приложение на Python
## 1. Отчет о проделанной работе
### 1.1. Введение и постановка задачи
Данный проект представляет собой клиент-серверное приложение, реализующее сервис-словарь с использованием технологии gRPC. Основная задача — создать сервис, который позволяет управлять глоссарием терминов через удаленные вызовы процедур (RPC).

Приложение состоит из двух независимых компонентов:

Сервер, который реализует бизнес-логику и предоставляет API для управления словарем.

Клиент, который подключается к серверу для демонстрации работы всех функций API.

Проект демонстрирует полный цикл разработки gRPC-сервиса на Python, начиная от определения контракта API и заканчивая реализацией клиентской и серверной логики.

### 1.2. Архитектура и составные части приложения
Система построена на классической клиент-серверной архитектуре, где взаимодействие осуществляется по протоколу gRPC.    

#### 1.2.1. Контракт API (Protocol Buffers)
Основой взаимодействия является строго определенный контракт, описанный в файле protos/dictionary.proto с использованием языка Protocol Buffers (Protobuf).  Этот файл является единым источником правды для всех методов и структур данных, которыми обмениваются клиент и сервер.   

Сервис Dictionary предоставляет полный набор CRUD-операций (Create, Read, Update, Delete):

- AddTerm: Добавление нового термина.

- GetTerm: Получение информации о конкретном термине.

- GetAllTerms: Получение списка всех терминов.

- UpdateTerm: Обновление существующего термина.

- DeleteTerm: Удаление термина.


#### 1.2.2. Генерация кода
На основе .proto-файла с помощью инструментов grpcio-tools генерируются два Python-файла, которые содержат весь необходимый "каркас" для взаимодействия:    

- dictionary_pb2.py: Содержит классы для всех сообщений (например, Term, AddTermRequest), которые используются для сериализации и десериализации данных.

- dictionary_pb2_grpc.py: Содержит базовые классы для сервера (DictionaryServicer) и клиента (DictionaryStub), а также функцию для регистрации сервиса на сервере.

Эти файлы не редактируются вручную, а пересоздаются каждый раз при изменении контракта API.

#### 1.2.3. Сервер (src/server.py)
Серверная часть отвечает за реализацию логики, описанной в контракте.    

- Класс DictionaryServicer: наследуется от сгенерированного базового класса и реализует все RPC-методы (AddTerm, GetTerm и т.д.).

- Хранилище данных: для простоты в данном проекте используется обычный Python-словарь (in_memory_dictionary), который хранится в оперативной памяти и имитирует базу данных.

- Запуск сервера: функция serve() создает экземпляр gRPC-сервера, регистрирует на нем наш сервис и запускает прослушивание порта 50051 для входящих клиентских подключений.

#### 1.2.4. Клиент (src/client.py)
Клиентская часть демонстрирует, как использовать API сервера.    

- Установка соединения: клиент создает защищенный канал (grpc.insecure_channel) для подключения к серверу по адресу localhost:50051.

- Создание "заглушки" (Stub): на основе канала создается объект DictionaryStub. Этот объект имеет методы, которые соответствуют RPC-методам на сервере. Для клиента вызов stub.AddTerm(...) выглядит как обычный локальный вызов функции, но на самом деле gRPC "под капотом" выполняет сетевой запрос к серверу.

 - Демонстрация работы: скрипт последовательно вызывает все CRUD-методы, чтобы показать полный цикл работы с данными: создание, чтение, обновление и удаление терминов.

### 1.3. Технологический стек
Язык программирования: Python 3.9+

RPC Фреймворк: gRPC (grpcio, grpcio-tools)

Сериализация данных: Protocol Buffers (protobuf)

# 2. Руководство по локальному запуску
В этом разделе описаны шаги для запуска клиент-серверного приложения на вашем локальном компьютере.

### 2.1. Предварительные требования
Перед началом убедитесь, что у вас установлены:

Python версии 3.9 или выше.

Git для клонирования репозитория.

### 2.2. Пошаговая инструкция
Шаг 1: Клонирование репозитория
Откройте терминал и выполните следующую команду, чтобы скопировать проект на ваш компьютер:
```
Bash

git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
cd <ИМЯ_ПАПКИ_ПРОЕКТА>
```
Шаг 2: Создание и активация виртуального окружения
Рекомендуется использовать виртуальное окружение, чтобы изолировать зависимости проекта.    
```
Bash

# Создание виртуального окружения
python -m venv venv

# Активация на Windows
venv\Scripts\activate

# Активация на macOS/Linux
source venv/bin/activate
После активации в начале командной строки вы увидите (venv).
```

Шаг 3: Установка зависимостей
Установите все необходимые библиотеки, перечисленные в файле requirements.txt:
```
Bash

pip install -r requirements.txt

```
В этот файл входят grpcio и grpcio-tools.

Шаг 4: Генерация кода из.proto файла
Прежде чем запускать сервер или клиент, необходимо сгенерировать Python-код из файла dictionary.proto. Выполните следующую команду из корневой директории проекта:    

```
Bash

python -m grpc_tools.protoc -I./protos --python_out=./src/generated --grpc_python_out=./src/generated./protos/dictionary.proto

```
Эта команда создаст файлы dictionary_pb2.py и dictionary_pb2_grpc.py в папке src/generated.

Шаг 5: Запуск gRPC сервера
Откройте терминал (с активированным виртуальным окружением) и запустите сервер:
```
Bash

python src/server.py
```
Вы должны увидеть сообщение о том, что сервер запущен и слушает порт 50051.

Сервер запущен и слушает порт 50051...
Оставьте этот терминал работать.

Шаг 6: Запуск gRPC клиента
Откройте новый терминал (не закрывая тот, где работает сервер) и также активируйте виртуальное окружение (source venv/bin/activate).

Запустите клиентский скрипт:
```
Bash

python src/client.py
```
2.3. Ожидаемый результат
В окне сервера вы увидите логи о получении и обработке запросов от клиента:
```
Сервер запущен и слушает порт 50051...
Получен запрос AddTerm: 'WebSocket'
...

Запуск gRPC клиента...

--- 1. Добавление терминов (CREATE) ---
```

# 3. Заключение

Реализованное приложение демонстрирует ключевые этапы разработки gRPC-сервиса на Python: контракт-ориентированный подход (Protobuf), реализация серверной логики и клиентские вызовы.